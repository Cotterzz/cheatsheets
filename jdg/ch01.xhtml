<!DOCTYPE html>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/2002/06/xhtml2/ http://www.w3.org/MarkUp/SCHEMA/xhtml2.xsd" xmlns:epub="http://www.idpf.org/2007/ops">
<head>
<link href="Styles/Style00.css" rel="stylesheet" type="text/css" />
<link href="Styles/Style01.css" rel="stylesheet" type="text/css" />
<link href="Styles/Style02.css" rel="stylesheet" type="text/css" />
<link href="Styles/Style03.css" rel="stylesheet" type="text/css" />
<style type="text/css" title="ibis-book">
    @charset "utf-8";#sbo-rt-content html,#sbo-rt-content div,#sbo-rt-content div,#sbo-rt-content span,#sbo-rt-content applet,#sbo-rt-content object,#sbo-rt-content iframe,#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5,#sbo-rt-content h6,#sbo-rt-content p,#sbo-rt-content blockquote,#sbo-rt-content pre,#sbo-rt-content a,#sbo-rt-content abbr,#sbo-rt-content acronym,#sbo-rt-content address,#sbo-rt-content big,#sbo-rt-content cite,#sbo-rt-content code,#sbo-rt-content del,#sbo-rt-content dfn,#sbo-rt-content em,#sbo-rt-content img,#sbo-rt-content ins,#sbo-rt-content kbd,#sbo-rt-content q,#sbo-rt-content s,#sbo-rt-content samp,#sbo-rt-content small,#sbo-rt-content strike,#sbo-rt-content strong,#sbo-rt-content sub,#sbo-rt-content sup,#sbo-rt-content tt,#sbo-rt-content var,#sbo-rt-content b,#sbo-rt-content u,#sbo-rt-content i,#sbo-rt-content center,#sbo-rt-content dl,#sbo-rt-content dt,#sbo-rt-content dd,#sbo-rt-content ol,#sbo-rt-content ul,#sbo-rt-content li,#sbo-rt-content fieldset,#sbo-rt-content form,#sbo-rt-content label,#sbo-rt-content legend,#sbo-rt-content table,#sbo-rt-content caption,#sbo-rt-content tdiv,#sbo-rt-content tfoot,#sbo-rt-content thead,#sbo-rt-content tr,#sbo-rt-content th,#sbo-rt-content td,#sbo-rt-content article,#sbo-rt-content aside,#sbo-rt-content canvas,#sbo-rt-content details,#sbo-rt-content embed,#sbo-rt-content figure,#sbo-rt-content figcaption,#sbo-rt-content footer,#sbo-rt-content header,#sbo-rt-content hgroup,#sbo-rt-content menu,#sbo-rt-content nav,#sbo-rt-content output,#sbo-rt-content ruby,#sbo-rt-content section,#sbo-rt-content summary,#sbo-rt-content time,#sbo-rt-content mark,#sbo-rt-content audio,#sbo-rt-content video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}#sbo-rt-content article,#sbo-rt-content aside,#sbo-rt-content details,#sbo-rt-content figcaption,#sbo-rt-content figure,#sbo-rt-content footer,#sbo-rt-content header,#sbo-rt-content hgroup,#sbo-rt-content menu,#sbo-rt-content nav,#sbo-rt-content section{display:block}#sbo-rt-content div{line-height:1}#sbo-rt-content ol,#sbo-rt-content ul{list-style:none}#sbo-rt-content blockquote,#sbo-rt-content q{quotes:none}#sbo-rt-content blockquote:before,#sbo-rt-content blockquote:after,#sbo-rt-content q:before,#sbo-rt-content q:after{content:none}#sbo-rt-content table{border-collapse:collapse;border-spacing:0}@page{margin:5px !important}#sbo-rt-content p{margin:10px 0 0;line-height:125%;text-align:left}#sbo-rt-content p.byline{text-align:left;margin:-33px auto 35px;font-style:italic;font-weight:bold}#sbo-rt-content div.preface p+p.byline{margin:1em 0 0 !important}#sbo-rt-content div.preface p.byline+p.byline{margin:0 !important}#sbo-rt-content div.sect1&gt;p.byline{margin:-.25em 0 1em}#sbo-rt-content div.sect1&gt;p.byline+p.byline{margin-top:-1em}#sbo-rt-content em{font-style:italic;font-family:inherit}#sbo-rt-content em strong,#sbo-rt-content strong em{font-weight:bold;font-style:italic;font-family:inherit}#sbo-rt-content strong,#sbo-rt-content span.bold{font-weight:bold}#sbo-rt-content em.replaceable{font-style:italic}#sbo-rt-content strong.userinput{font-weight:bold;font-style:normal}#sbo-rt-content span.bolditalic{font-weight:bold;font-style:italic}#sbo-rt-content a.ulink,#sbo-rt-content a.xref,#sbo-rt-content a.email,#sbo-rt-content a.link,#sbo-rt-content a{text-decoration:none;color:#8e0012}#sbo-rt-content span.lineannotation{font-style:italic;color:#a62a2a;font-family:serif}#sbo-rt-content span.underline{text-decoration:underline}#sbo-rt-content span.strikethrough{text-decoration:line-through}#sbo-rt-content span.smallcaps{font-variant:small-caps}#sbo-rt-content span.cursor{background:#000;color:#fff}#sbo-rt-content span.smaller{font-size:75%}#sbo-rt-content .boxedtext,#sbo-rt-content .keycap{border-style:solid;border-width:1px;border-color:#000;padding:1px}#sbo-rt-content span.gray50{color:#7F7F7F;}#sbo-rt-content h1,#sbo-rt-content div.toc-title,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5{-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;font-weight:bold;text-align:left;page-break-after:avoid !important;font-family:sans-serif,"DejaVuSans"}#sbo-rt-content div.toc-title{font-size:1.5em;margin-top:20px !important;margin-bottom:30px !important}#sbo-rt-content section[data-type="sect1"] h1{font-size:1.3em;color:#8e0012;margin:40px 0 8px 0}#sbo-rt-content section[data-type="sect2"] h2{font-size:1.1em;margin:30px 0 8px 0 !important}#sbo-rt-content section[data-type="sect3"] h3{font-size:1em;color:#555;margin:20px 0 8px 0 !important}#sbo-rt-content section[data-type="sect4"] h4{font-size:1em;font-weight:normal;font-style:italic;margin:15px 0 6px 0 !important}#sbo-rt-content section[data-type="chapter"]&gt;div&gt;h1,#sbo-rt-content section[data-type="preface"]&gt;div&gt;h1,#sbo-rt-content section[data-type="appendix"]&gt;div&gt;h1,#sbo-rt-content section[data-type="glossary"]&gt;div&gt;h1,#sbo-rt-content section[data-type="bibliography"]&gt;div&gt;h1,#sbo-rt-content section[data-type="index"]&gt;div&gt;h1{font-size:2em;line-height:1;margin-bottom:50px;color:#000;padding-bottom:10px;border-bottom:1px solid #000}#sbo-rt-content span.label,#sbo-rt-content span.keep-together{font-size:inherit;font-weight:inherit}#sbo-rt-content div[data-type="part"] h1{font-size:2em;text-align:center;margin-top:0 !important;margin-bottom:50px;padding:50px 0 10px 0;border-bottom:1px solid #000}#sbo-rt-content img.width-ninety{width:90%}#sbo-rt-content img{max-width:95%;margin:0 auto;padding:0}#sbo-rt-content div.figure{background-color:transparent;text-align:center !important;margin:15px auto !important;page-break-inside:avoid}#sbo-rt-content figure{margin:15px auto !important;page-break-inside:avoid}#sbo-rt-content div.figure h6,#sbo-rt-content figure h6,#sbo-rt-content figure figcaption{font-size:.9rem !important;text-align:center;font-weight:normal !important;font-style:italic;font-family:serif !important;text-transform:none !important;letter-spacing:normal !important;color:#000;padding-top:.25em !important;margin-top:0 !important;page-break-before:avoid}#sbo-rt-content div.informalfigure{text-align:center !important;padding:5px 0 !important}#sbo-rt-content div.sidebar{margin:15px 0 10px 0 !important;border:1px solid #DCDCDC;background-color:#F7F7F7;padding:15px !important;page-break-inside:avoid}#sbo-rt-content aside[data-type="sidebar"]{margin:15px 0 10px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar-title,#sbo-rt-content aside[data-type="sidebar"] h5{font-weight:bold;font-size:1em;font-family:sans-serif;text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar ol,#sbo-rt-content div.sidebar ul,#sbo-rt-content aside[data-type="sidebar"] ol,#sbo-rt-content aside[data-type="sidebar"] ul{margin-left:1.25em !important}#sbo-rt-content div.sidebar div.figure p.title,#sbo-rt-content aside[data-type="sidebar"] figcaption,#sbo-rt-content div.sidebar div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif !important;color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div[data-type="tip"],#sbo-rt-content div.sidebar div.note,#sbo-rt-content div.sidebar div[data-type="note"],#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div[data-type="warning"],#sbo-rt-content div.sidebar div[data-type="caution"],#sbo-rt-content div.sidebar div[data-type="important"]{margin:20px auto 20px auto !important;font-size:90%;width:85%}#sbo-rt-content aside[data-type="sidebar"] p.byline{font-size:90%;font-weight:bold;font-style:italic;text-align:center;text-indent:0;margin:5px auto 6px;page-break-after:avoid}#sbo-rt-content pre{white-space:pre-wrap;font-family:"Ubuntu Mono",monospace;margin:25px 0 25px 20px;font-size:85%;display:block;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;overflow-wrap:break-word}#sbo-rt-content div.note pre.programlisting,#sbo-rt-content div.tip pre.programlisting,#sbo-rt-content div.warning pre.programlisting,#sbo-rt-content div.caution pre.programlisting,#sbo-rt-content div.important pre.programlisting{margin-bottom:0}#sbo-rt-content code{font-family:"Ubuntu Mono",monospace;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;overflow-wrap:break-word}#sbo-rt-content code strong em,#sbo-rt-content code em strong,#sbo-rt-content pre em strong,#sbo-rt-content pre strong em,#sbo-rt-content strong code em code,#sbo-rt-content em code strong code,#sbo-rt-content span.bolditalic code{font-weight:bold;font-style:italic;font-family:"Ubuntu Mono BoldItal",monospace}#sbo-rt-content code em,#sbo-rt-content em code,#sbo-rt-content pre em,#sbo-rt-content em.replaceable{font-family:"Ubuntu Mono Ital",monospace;font-style:italic}#sbo-rt-content code strong,#sbo-rt-content strong code,#sbo-rt-content pre strong,#sbo-rt-content strong.userinput{font-family:"Ubuntu Mono Bold",monospace;font-weight:bold}#sbo-rt-content div[data-type="example"]{margin:10px 0 15px 0 !important}#sbo-rt-content div[data-type="example"] h1,#sbo-rt-content div[data-type="example"] h2,#sbo-rt-content div[data-type="example"] h3,#sbo-rt-content div[data-type="example"] h4,#sbo-rt-content div[data-type="example"] h5,#sbo-rt-content div[data-type="example"] h6{font-style:italic;font-weight:normal;text-align:left !important;text-transform:none !important;font-family:serif !important;margin:10px 0 5px 0 !important;border-bottom:1px solid #000}#sbo-rt-content li pre.example{padding:10px 0 !important}#sbo-rt-content div[data-type="example"] pre[data-type="programlisting"],#sbo-rt-content div[data-type="example"] pre[data-type="screen"]{margin:0}#sbo-rt-content section[data-type="titlepage"]&gt;div&gt;h1{font-size:2em;margin:50px 0 10px 0 !important;line-height:1;text-align:center}#sbo-rt-content section[data-type="titlepage"] h2,#sbo-rt-content section[data-type="titlepage"] p.subtitle,#sbo-rt-content section[data-type="titlepage"] p[data-type="subtitle"]{font-size:1.3em;font-weight:normal;text-align:center;margin-top:.5em;color:#555}#sbo-rt-content section[data-type="titlepage"]&gt;div&gt;h2[data-type="author"],#sbo-rt-content section[data-type="titlepage"] p.author{font-size:1.3em;font-family:serif !important;font-weight:bold;margin:50px 0 !important;text-align:center}#sbo-rt-content section[data-type="titlepage"] p.edition{text-align:center;text-transform:uppercase;margin-top:2em}#sbo-rt-content section[data-type="titlepage"]{text-align:center}#sbo-rt-content section[data-type="titlepage"]:after{content:url(css_assets/titlepage_footer_ebook.png);margin:0 auto;max-width:80%}#sbo-rt-content div.book div.titlepage div.publishername{margin-top:60%;margin-bottom:20px;text-align:center;font-size:1.25em}#sbo-rt-content div.book div.titlepage div.locations p{margin:0;text-align:center}#sbo-rt-content div.book div.titlepage div.locations p.cities{font-size:80%;text-align:center;margin-top:5px}#sbo-rt-content section.preface[title="Dedication"]&gt;div.titlepage h2.title{text-align:center;text-transform:uppercase;font-size:1.5em;margin-top:50px;margin-bottom:50px}#sbo-rt-content ul.stafflist{margin:15px 0 15px 20px !important}#sbo-rt-content ul.stafflist li{list-style-type:none;padding:5px 0}#sbo-rt-content ul.printings li{list-style-type:none}#sbo-rt-content section.preface[title="Dedication"] p{font-style:italic;text-align:center}#sbo-rt-content div.colophon h1.title{font-size:1.3em;margin:0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon h2.subtitle{margin:0 !important;color:#000;font-family:serif !important;font-size:1em;font-weight:normal}#sbo-rt-content div.colophon div.author h3.author{font-size:1.1em;font-family:serif !important;margin:10px 0 0 !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h4,#sbo-rt-content div.colophon div.editor h3.editor{color:#000;font-size:.8em;margin:15px 0 0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h3.editor{font-size:.8em;margin:0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon div.publisher{margin-top:10px}#sbo-rt-content div.colophon div.publisher p,#sbo-rt-content div.colophon div.publisher span.publishername{margin:0;font-size:.8em}#sbo-rt-content div.legalnotice p,#sbo-rt-content div.timestamp p{font-size:.8em}#sbo-rt-content div.timestamp p{margin-top:10px}#sbo-rt-content div.colophon[title="About the Author"] h1.title,#sbo-rt-content div.colophon[title="Colophon"] h1.title{font-size:1.5em;margin:0 !important;font-family:sans-serif !important}#sbo-rt-content section.chapter div.titlepage div.author{margin:10px 0 10px 0}#sbo-rt-content section.chapter div.titlepage div.author div.affiliation{font-style:italic}#sbo-rt-content div.attribution{margin:5px 0 0 50px !important}#sbo-rt-content h3.author span.orgname{display:none}#sbo-rt-content div.epigraph{margin:10px 0 10px 20px !important;page-break-inside:avoid;font-size:90%}#sbo-rt-content div.epigraph p{font-style:italic}#sbo-rt-content blockquote,#sbo-rt-content div.blockquote{margin:10px !important;page-break-inside:avoid;font-size:95%}#sbo-rt-content blockquote p,#sbo-rt-content div.blockquote p{font-style:italic;margin:.75em 0 0 !important}#sbo-rt-content blockquote div.attribution,#sbo-rt-content blockquote p[data-type="attribution"]{margin:5px 0 10px 30px !important;text-align:right;width:80%}#sbo-rt-content blockquote div.attribution p,#sbo-rt-content blockquote p[data-type="attribution"]{font-style:normal;margin-top:5px}#sbo-rt-content blockquote div.attribution p:before,#sbo-rt-content blockquote p[data-type="attribution"]:before{font-style:normal;content:"—";-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none}#sbo-rt-content p.right{text-align:right;margin:0}#sbo-rt-content div[data-type="footnotes"]{border-top:1px solid black;margin-top:2em}#sbo-rt-content sub,#sbo-rt-content sup{font-size:75%;line-height:0;position:relative}#sbo-rt-content sup{top:-.5em}#sbo-rt-content sub{bottom:-.25em}#sbo-rt-content p[data-type="footnote"]{font-size:90% !important;line-height:1.2em !important;margin-left:2.5em !important;text-indent:-2.3em !important}#sbo-rt-content p[data-type="footnote"] sup{display:inline-block !important;position:static !important;width:2em !important;text-align:right !important;font-size:100% !important;padding-right:.5em !important}#sbo-rt-content p[data-type="footnote"] a[href$="-marker"]{font-family:sans-serif !important;font-size:90% !important;color:#8e0012 !important}#sbo-rt-content p[data-type="footnote"] a[data-type="xref"]{margin:0 !important;padding:0 !important;text-indent:0 !important}#sbo-rt-content a[data-type="noteref"]{font-family:sans-serif !important;color:#8e0012;margin-left:0;padding-left:0}#sbo-rt-content div.refentry p.refname{font-size:1em;font-family:sans-serif,"DejaVuSans";font-weight:bold;margin-bottom:5px;overflow:auto;width:100%}#sbo-rt-content div.refentry{width:100%;display:block;margin-top:2em}#sbo-rt-content div.refsynopsisdiv{display:block;clear:both}#sbo-rt-content div.refentry header{page-break-inside:avoid !important;display:block;break-inside:avoid !important;padding-top:0;border-bottom:1px solid #000}#sbo-rt-content div.refsect1 h6{font-size:.9em;font-family:sans-serif,"DejaVuSans";font-weight:bold}#sbo-rt-content div.refsect1{margin-top:3em}#sbo-rt-content dl{margin-bottom:1.5em !important}#sbo-rt-content dt{padding-top:10px !important;padding-bottom:0 !important;line-height:1.25rem;font-style:italic}#sbo-rt-content dd{margin:10px 0 .25em 1.5em !important;line-height:1.65em !important}#sbo-rt-content dd p{padding:0 !important;margin:0 0 10px !important}#sbo-rt-content dd ol,#sbo-rt-content dd ul{padding-left:1em}#sbo-rt-content dd li{margin-top:0;margin-bottom:0}#sbo-rt-content dd,#sbo-rt-content li{text-align:left}#sbo-rt-content ul,#sbo-rt-content ul&gt;li,#sbo-rt-content ol ul,#sbo-rt-content ol ul&gt;li,#sbo-rt-content ul ol ul,#sbo-rt-content ul ol ul&gt;li{list-style-type:disc}#sbo-rt-content ul ul,#sbo-rt-content ul ul&gt;li{list-style-type:square}#sbo-rt-content ul ul ul,#sbo-rt-content ul ul ul&gt;li{list-style-type:circle}#sbo-rt-content ol,#sbo-rt-content ol&gt;li,#sbo-rt-content ol ul ol,#sbo-rt-content ol ul ol&gt;li,#sbo-rt-content ul ol,#sbo-rt-content ul ol&gt;li{list-style-type:decimal}#sbo-rt-content ol ol,#sbo-rt-content ol ol&gt;li{list-style-type:lower-alpha}#sbo-rt-content ol ol ol,#sbo-rt-content ol ol ol&gt;li{list-style-type:lower-roman}#sbo-rt-content ol,#sbo-rt-content ul{list-style-position:outside;margin:15px 0 15px 1.25em;padding-left:2.25em}#sbo-rt-content ol li,#sbo-rt-content ul li{margin:.5em 0 .65em;line-height:125%}#sbo-rt-content div.orderedlistalpha{list-style-type:upper-alpha}#sbo-rt-content table.simplelist,#sbo-rt-content ul.simplelist{margin:15px 0 15px 20px !important}#sbo-rt-content ul.simplelist li{list-style-type:none;padding:5px 0}#sbo-rt-content table.simplelist td{border:none}#sbo-rt-content table.simplelist tr{border-bottom:none}#sbo-rt-content table.simplelist tr:nth-of-type(even){background-color:transparent}#sbo-rt-content dl.calloutlist p:first-child{margin-top:-25px !important}#sbo-rt-content dl.calloutlist dd{padding-left:0;margin-top:-25px}#sbo-rt-content dl.calloutlist img,#sbo-rt-content a.co img{padding:0}#sbo-rt-content div.toc ol{margin-top:8px !important;margin-bottom:8px !important;margin-left:0 !important;padding-left:0 !important}#sbo-rt-content div.toc ol ol{margin-left:30px !important;padding-left:0 !important}#sbo-rt-content div.toc ol li{list-style-type:none}#sbo-rt-content div.toc a{color:#8e0012}#sbo-rt-content div.toc ol a{font-size:1em;font-weight:bold}#sbo-rt-content div.toc ol&gt;li&gt;ol a{font-weight:bold;font-size:1em}#sbo-rt-content div.toc ol&gt;li&gt;ol&gt;li&gt;ol a{text-decoration:none;font-weight:normal;font-size:1em}#sbo-rt-content div.tip,#sbo-rt-content div[data-type="tip"],#sbo-rt-content div.note,#sbo-rt-content div[data-type="note"],#sbo-rt-content div.warning,#sbo-rt-content div[data-type="warning"],#sbo-rt-content div[data-type="caution"],#sbo-rt-content div[data-type="important"]{margin:30px !important;font-size:90%;padding:10px 8px 20px 8px !important;page-break-inside:avoid}#sbo-rt-content div.tip ol,#sbo-rt-content div.tip ul,#sbo-rt-content div[data-type="tip"] ol,#sbo-rt-content div[data-type="tip"] ul,#sbo-rt-content div.note ol,#sbo-rt-content div.note ul,#sbo-rt-content div[data-type="note"] ol,#sbo-rt-content div[data-type="note"] ul,#sbo-rt-content div.warning ol,#sbo-rt-content div.warning ul,#sbo-rt-content div[data-type="warning"] ol,#sbo-rt-content div[data-type="warning"] ul,#sbo-rt-content div[data-type="caution"] ol,#sbo-rt-content div[data-type="caution"] ul,#sbo-rt-content div[data-type="important"] ol,#sbo-rt-content div[data-type="important"] ul{margin-left:1.5em !important}#sbo-rt-content div.tip,#sbo-rt-content div[data-type="tip"],#sbo-rt-content div.note,#sbo-rt-content div[data-type="note"]{border:1px solid #BEBEBE;background-color:transparent}#sbo-rt-content div.warning,#sbo-rt-content div[data-type="warning"],#sbo-rt-content div[data-type="caution"],#sbo-rt-content div[data-type="important"]{border:1px solid #BC8F8F}#sbo-rt-content div.tip h3,#sbo-rt-content div[data-type="tip"] h6,#sbo-rt-content div[data-type="tip"] h1,#sbo-rt-content div.note h3,#sbo-rt-content div[data-type="note"] h6,#sbo-rt-content div[data-type="note"] h1,#sbo-rt-content div.warning h3,#sbo-rt-content div[data-type="warning"] h6,#sbo-rt-content div[data-type="warning"] h1,#sbo-rt-content div[data-type="caution"] h6,#sbo-rt-content div[data-type="caution"] h1,#sbo-rt-content div[data-type="important"] h1,#sbo-rt-content div[data-type="important"] h6{font-weight:bold;font-size:110%;font-family:sans-serif !important;text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px !important}#sbo-rt-content div[data-type="tip"] figure h6,#sbo-rt-content div[data-type="note"] figure h6,#sbo-rt-content div[data-type="warning"] figure h6,#sbo-rt-content div[data-type="caution"] figure h6,#sbo-rt-content div[data-type="important"] figure h6{font-family:serif !important}#sbo-rt-content div.tip h3,#sbo-rt-content div[data-type="tip"] h6,#sbo-rt-content div.note h3,#sbo-rt-content div[data-type="note"] h6,#sbo-rt-content div[data-type="tip"] h1,#sbo-rt-content div[data-type="note"] h1{color:#737373}#sbo-rt-content div.warning h3,#sbo-rt-content div[data-type="warning"] h6,#sbo-rt-content div[data-type="caution"] h6,#sbo-rt-content div[data-type="important"] h6,#sbo-rt-content div[data-type="warning"] h1,#sbo-rt-content div[data-type="caution"] h1,#sbo-rt-content div[data-type="important"] h1{color:#C67171}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note,#sbo-rt-content div.safarienabled{background-color:transparent;margin:8px 0 0 !important;border:0 solid #BEBEBE;font-size:100%;padding:0 !important;page-break-inside:avoid}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note h3,#sbo-rt-content div.safarienabled h6{display:none}#sbo-rt-content div.table,#sbo-rt-content table{margin:15px 0 30px 0 !important;max-width:95%;border:none !important;background:none;display:table !important}#sbo-rt-content div.table,#sbo-rt-content div.informaltable,#sbo-rt-content table{page-break-inside:avoid}#sbo-rt-content table li{margin:10px 0 0 .25em !important}#sbo-rt-content tr,#sbo-rt-content tr td{border-bottom:1px solid #c3c3c3}#sbo-rt-content thead td,#sbo-rt-content thead th{border-bottom:#9d9d9d 1px solid !important;border-top:#9d9d9d 1px solid !important}#sbo-rt-content tr:nth-of-type(even){background-color:#f1f6fc}#sbo-rt-content thead{font-family:sans-serif;font-weight:bold}#sbo-rt-content td,#sbo-rt-content th{display:table-cell;padding:.3em;text-align:left;vertical-align:top;font-size:80%}#sbo-rt-content th{vertical-align:bottom}#sbo-rt-content div.informaltable table{margin:10px auto !important}#sbo-rt-content div.informaltable table tr{border-bottom:none}#sbo-rt-content div.informaltable table tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.informaltable td,#sbo-rt-content div.informaltable th{border:#9d9d9d 1px solid}#sbo-rt-content div.table-title,#sbo-rt-content table caption{font-weight:normal;font-style:italic;font-family:serif;font-size:1em;margin:10px 0 10px 0 !important;padding:0;page-break-after:avoid;text-align:left !important}#sbo-rt-content table code{font-size:smaller;word-break:break-all}#sbo-rt-content table.border tbody&gt;tr:last-child&gt;td{border-bottom:transparent}#sbo-rt-content div.equation,#sbo-rt-content div[data-type="equation"]{margin:10px 0 15px 0 !important}#sbo-rt-content div.equation-title,#sbo-rt-content div[data-type="equation"] h5{font-style:italic;font-weight:normal;font-family:serif !important;font-size:90%;margin:20px 0 10px 0 !important;page-break-after:avoid}#sbo-rt-content div.equation-contents{margin-left:20px}#sbo-rt-content div[data-type="equation"] math{font-size:calc(.35em + 1vw)}#sbo-rt-content span.inlinemediaobject{height:.85em;display:inline-block;margin-bottom:.2em}#sbo-rt-content span.inlinemediaobject img{margin:0;height:.85em}#sbo-rt-content div.informalequation{margin:20px 0 20px 20px;width:75%}#sbo-rt-content div.informalequation img{width:75%}#sbo-rt-content div.index{text-indent:0}#sbo-rt-content div.index h3{padding:.25em;margin-top:1em !important;background-color:#F0F0F0}#sbo-rt-content div.index li{line-height:130%;list-style-type:none}#sbo-rt-content div.index a.indexterm{color:#8e0012 !important}#sbo-rt-content div.index ul{margin-left:0 !important;padding-left:0 !important}#sbo-rt-content div.index ul ul{margin-left:2em !important;margin-top:0 !important}#sbo-rt-content code.boolean,#sbo-rt-content .navy{color:rgb(0,0,128);}#sbo-rt-content code.character,#sbo-rt-content .olive{color:rgb(128,128,0);}#sbo-rt-content code.comment,#sbo-rt-content .blue{color:rgb(0,0,255);}#sbo-rt-content code.conditional,#sbo-rt-content .limegreen{color:rgb(50,205,50);}#sbo-rt-content code.constant,#sbo-rt-content .darkorange{color:rgb(255,140,0);}#sbo-rt-content code.debug,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.define,#sbo-rt-content .darkgoldenrod,#sbo-rt-content .gold{color:rgb(184,134,11);}#sbo-rt-content code.delimiter,#sbo-rt-content .dimgray{color:rgb(105,105,105);}#sbo-rt-content code.error,#sbo-rt-content .red{color:rgb(255,0,0);}#sbo-rt-content code.exception,#sbo-rt-content .salmon{color:rgb(250,128,11);}#sbo-rt-content code.float,#sbo-rt-content .steelblue{color:rgb(70,130,180);}#sbo-rt-content pre code.function,#sbo-rt-content .green{color:rgb(0,128,0);}#sbo-rt-content code.identifier,#sbo-rt-content .royalblue{color:rgb(65,105,225);}#sbo-rt-content code.ignore,#sbo-rt-content .gray{color:rgb(128,128,128);}#sbo-rt-content code.include,#sbo-rt-content .purple{color:rgb(128,0,128);}#sbo-rt-content code.keyword,#sbo-rt-content .sienna{color:rgb(160,82,45);}#sbo-rt-content code.label,#sbo-rt-content .deeppink{color:rgb(255,20,147);}#sbo-rt-content code.macro,#sbo-rt-content .orangered{color:rgb(255,69,0);}#sbo-rt-content code.number,#sbo-rt-content .brown{color:rgb(165,42,42);}#sbo-rt-content code.operator,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.preCondit,#sbo-rt-content .teal{color:rgb(0,128,128);}#sbo-rt-content code.preProc,#sbo-rt-content .fuschia{color:rgb(255,0,255);}#sbo-rt-content code.repeat,#sbo-rt-content .indigo{color:rgb(75,0,130);}#sbo-rt-content code.special,#sbo-rt-content .saddlebrown{color:rgb(139,69,19);}#sbo-rt-content code.specialchar,#sbo-rt-content .magenta{color:rgb(255,0,255);}#sbo-rt-content code.specialcomment,#sbo-rt-content .seagreen{color:rgb(46,139,87);}#sbo-rt-content code.statement,#sbo-rt-content .forestgreen{color:rgb(34,139,34);}#sbo-rt-content code.storageclass,#sbo-rt-content .plum{color:rgb(221,160,221);}#sbo-rt-content code.string,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.structure,#sbo-rt-content .chocolate{color:rgb(210,106,30);}#sbo-rt-content code.tag,#sbo-rt-content .darkcyan{color:rgb(0,139,139);}#sbo-rt-content code.todo,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.type,#sbo-rt-content .mediumslateblue{color:rgb(123,104,238);}#sbo-rt-content code.typedef,#sbo-rt-content .darkgreen{color:rgb(0,100,0);}#sbo-rt-content code.underlined{text-decoration:underline;}#sbo-rt-content pre code.hll{background-color:#ffc}#sbo-rt-content pre code.c{color:#09F;font-style:italic}#sbo-rt-content pre code.err{color:#A00}#sbo-rt-content pre code.k{color:#069;font-weight:bold}#sbo-rt-content pre code.o{color:#555}#sbo-rt-content pre code.cm{color:#35586C;font-style:italic}#sbo-rt-content pre code.cp{color:#099}#sbo-rt-content pre code.c1{color:#35586C;font-style:italic}#sbo-rt-content pre code.cs{color:#35586C;font-weight:bold;font-style:italic}#sbo-rt-content pre code.gd{background-color:#FCC}#sbo-rt-content pre code.ge{font-style:italic}#sbo-rt-content pre code.gr{color:#F00}#sbo-rt-content pre code.gh{color:#030;font-weight:bold}#sbo-rt-content pre code.gi{background-color:#CFC}#sbo-rt-content pre code.go{color:#000}#sbo-rt-content pre code.gp{color:#009;font-weight:bold}#sbo-rt-content pre code.gs{font-weight:bold}#sbo-rt-content pre code.gu{color:#030;font-weight:bold}#sbo-rt-content pre code.gt{color:#9C6}#sbo-rt-content pre code.kc{color:#069;font-weight:bold}#sbo-rt-content pre code.kd{color:#069;font-weight:bold}#sbo-rt-content pre code.kn{color:#069;font-weight:bold}#sbo-rt-content pre code.kp{color:#069}#sbo-rt-content pre code.kr{color:#069;font-weight:bold}#sbo-rt-content pre code.kt{color:#078;font-weight:bold}#sbo-rt-content pre code.m{color:#F60}#sbo-rt-content pre code.s{color:#C30}#sbo-rt-content pre code.na{color:#309}#sbo-rt-content pre code.nb{color:#366}#sbo-rt-content pre code.nc{color:#0A8;font-weight:bold}#sbo-rt-content pre code.no{color:#360}#sbo-rt-content pre code.nd{color:#99F}#sbo-rt-content pre code.ni{color:#999;font-weight:bold}#sbo-rt-content pre code.ne{color:#C00;font-weight:bold}#sbo-rt-content pre code.nf{color:#C0F}#sbo-rt-content pre code.nl{color:#99F}#sbo-rt-content pre code.nn{color:#0CF;font-weight:bold}#sbo-rt-content pre code.nt{color:#309;font-weight:bold}#sbo-rt-content pre code.nv{color:#033}#sbo-rt-content pre code.ow{color:#000;font-weight:bold}#sbo-rt-content pre code.w{color:#bbb}#sbo-rt-content pre code.mf{color:#F60}#sbo-rt-content pre code.mh{color:#F60}#sbo-rt-content pre code.mi{color:#F60}#sbo-rt-content pre code.mo{color:#F60}#sbo-rt-content pre code.sb{color:#C30}#sbo-rt-content pre code.sc{color:#C30}#sbo-rt-content pre code.sd{color:#C30;font-style:italic}#sbo-rt-content pre code.s2{color:#C30}#sbo-rt-content pre code.se{color:#C30;font-weight:bold}#sbo-rt-content pre code.sh{color:#C30}#sbo-rt-content pre code.si{color:#A00}#sbo-rt-content pre code.sx{color:#C30}#sbo-rt-content pre code.sr{color:#3AA}#sbo-rt-content pre code.s1{color:#C30}#sbo-rt-content pre code.ss{color:#A60}#sbo-rt-content pre code.bp{color:#366}#sbo-rt-content pre code.vc{color:#033}#sbo-rt-content pre code.vg{color:#033}#sbo-rt-content pre code.vi{color:#033}#sbo-rt-content pre code.il{color:#F60}#sbo-rt-content pre code.g{color:#050}#sbo-rt-content pre code.l{color:#C60}#sbo-rt-content pre code.l{color:#F90}#sbo-rt-content pre code.n{color:#008}#sbo-rt-content pre code.nx{color:#008}#sbo-rt-content pre code.py{color:#96F}#sbo-rt-content pre code.p{color:#000}#sbo-rt-content pre code.x{color:#F06}#sbo-rt-content div.blockquote_sampler_toc{width:95%;margin:5px 5px 5px 10px !important}#sbo-rt-content div{font-family:serif;text-align:left}#sbo-rt-content .gray-background,#sbo-rt-content .reverse-video{background:#2E2E2E;color:#FFF}#sbo-rt-content .light-gray-background{background:#A0A0A0}#sbo-rt-content .preserve-whitespace{white-space:pre-wrap}#sbo-rt-content pre.break-code,#sbo-rt-content code.break-code,#sbo-rt-content .break-code pre,#sbo-rt-content .break-code code{word-break:break-all}#sbo-rt-content span.gray{color:#4C4C4C}#sbo-rt-content .width-10,#sbo-rt-content figure.width-10 img{width:10% !important}#sbo-rt-content .width-20,#sbo-rt-content figure.width-20 img{width:20% !important}#sbo-rt-content .width-30,#sbo-rt-content figure.width-30 img{width:30% !important}#sbo-rt-content .width-40,#sbo-rt-content figure.width-40 img{width:40% !important}#sbo-rt-content .width-50,#sbo-rt-content figure.width-50 img{width:50% !important}#sbo-rt-content .width-60,#sbo-rt-content figure.width-60 img{width:60% !important}#sbo-rt-content .width-70,#sbo-rt-content figure.width-70 img{width:70% !important}#sbo-rt-content .width-80,#sbo-rt-content figure.width-80 img{width:80% !important}#sbo-rt-content .width-90,#sbo-rt-content figure.width-90 img{width:90% !important}#sbo-rt-content .width-full,#sbo-rt-content .width-100{width:100% !important}#sbo-rt-content .sc{text-transform:none !important}#sbo-rt-content .right{float:none !important}#sbo-rt-content a.totri-footnote{padding:0 !important}#sbo-rt-content figure.width-10,#sbo-rt-content figure.width-20,#sbo-rt-content figure.width-30,#sbo-rt-content figure.width-40,#sbo-rt-content figure.width-50,#sbo-rt-content figure.width-60,#sbo-rt-content figure.width-70,#sbo-rt-content figure.width-80,#sbo-rt-content figure.width-90{width:auto !important}#sbo-rt-content p img,#sbo-rt-content pre img{height:1em;width:1em}#sbo-rt-content .tablerule td{border-bottom:.25pt solid black !important}
    </style>
<style type="text/css" id="font-styles">#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: &lt;%= font_size %&gt; !important; }</style>
<style type="text/css" id="font-family">#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: &lt;%= font_family %&gt; !important; }</style>
<style type="text/css" id="column-width">#sbo-rt-content { max-width: &lt;%= column_width %&gt;% !important; margin: 0 auto !important; }</style>

<style type="text/css">body{margin:1em;}#sbo-rt-content *{text-indent:0pt!important;}#sbo-rt-content .bq{margin-right:1em!important;}body{background-color:transparent!important;}#sbo-rt-content *{word-wrap:break-word!important;word-break:break-word!important;}#sbo-rt-content table,#sbo-rt-content pre{overflow-x:unset!important;overflow:unset!important;overflow-y:unset!important;white-space:pre-wrap!important;}</style></head>
<body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" class="pagenumrestart" data-pdf-bookmark="Chapter 1. Introduction to JavaScript"><div class="chapter" id="intro">
<h1><span class="label">Chapter 1. </span>Introduction to JavaScript</h1>


<p>JavaScript<a data-type="indexterm" data-primary="JavaScript" data-secondary="benefits of" id="idm46198581947800"/> is the programming language of the web. The overwhelming
majority of websites use JavaScript, and all modern web browsers—on
desktops, tablets, and phones—include JavaScript interpreters, making
JavaScript the most-deployed programming language in history. Over the
last decade, Node.js has enabled JavaScript programming outside of web
browsers, and the dramatic success of Node means that JavaScript is
now also the most-used programming language among software
developers. Whether you’re starting from scratch or are already using
JavaScript professionally, this book will help you master the
language.</p>

<p>If you are already familiar with other programming languages, it may
help you to know that JavaScript is a high-level, dynamic, interpreted
programming language that is well-suited to object-oriented and
functional programming styles. JavaScript’s variables are untyped. Its
syntax is loosely based on Java, but the languages are otherwise
unrelated. JavaScript derives its first-class functions from Scheme
and its prototype-based inheritance from the little-known language
Self. But you do not need to know any of those languages, or be
familiar with those terms, to use this book and learn JavaScript.</p>

<p>The name “JavaScript” is quite misleading. Except for a superficial
syntactic resemblance, JavaScript is completely different from the
Java programming language. And JavaScript has long since outgrown its
scripting-language roots to become a robust and efficient
general-purpose language suitable for serious software engineering
and projects with huge codebases.</p>
<aside data-type="sidebar" epub:type="sidebar" class="less_space pagebreak-before"><div class="sidebar" id="idm46198581944104">
<h5>JavaScript: Names, Versions, and Modes</h5>
<p>JavaScript<a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="names, versions, and modes" id="idm46198582080984"/><a data-type="indexterm" data-primary="ECMAScript (ES)" id="idm46198582079640"/> was created at Netscape in the early days of the web, and
technically, “JavaScript” is a trademark licensed from Sun
Microsystems (now Oracle) used to describe Netscape’s (now Mozilla’s)
implementation of the language. Netscape submitted the language for
standardization to ECMA—the European Computer Manufacturer’s
Association—and because of trademark issues, the standardized version
of the language was stuck with the awkward name “ECMAScript.” In
practice, everyone just calls the language JavaScript. This book uses
the name “ECMAScript” and the abbreviation “ES” to refer to the
language standard and to versions of that standard.</p>

<p>For most of the 2010s, version 5 of the ECMAScript standard has been
supported by all web browsers.  This<a data-type="indexterm" data-primary="ES5" data-secondary="compatibility baseline" id="idm46198582077656"/> book treats ES5 as the
compatibility baseline and no longer discusses earlier versions of the
language. ES6<a data-type="indexterm" data-primary="ES6" data-secondary="release of" id="idm46198582076424"/> was released in 2015 and added major new
features—including class and module syntax—that changed JavaScript
from a scripting language into a serious, general-purpose language
suitable for large-scale software engineering. Since ES6, the
ECMAScript specification has moved to a yearly release cadence, and
versions of the language—ES2016, ES2017, ES2018, ES2019, and
ES2020—are now identified by year of release.</p>

<p>As JavaScript evolved, the language designers attempted to correct
flaws in the early (pre-ES5) versions. In order to maintain backward
compatibility, it is not possible to remove legacy features, no matter
how flawed. But<a data-type="indexterm" data-primary="strict mode" data-secondary="opting into" id="idm46198582074072"/><a data-type="indexterm" data-primary="use strict directive" data-secondary="opting into strict mode" id="idm46198582073096"/><a data-type="indexterm" data-primary="use strict mode" id="idm46198582072152"/> in ES5 and later, programs can opt in to JavaScript’s
<em>strict mode</em> in which a number of early language mistakes have been
corrected. The mechanism for opting in is the “use strict” directive
described in <a data-type="xref" href="ch05.xhtml#strictmode">§5.6.3</a>. That section also summarizes the
differences between legacy JavaScript and strict JavaScript. In ES6
and later, the use of new language features often implicitly invokes
strict mode. For example, if you use the ES6 <code>class</code> keyword or create
an ES6 module, then all the code within the class or module is
automatically strict, and the old, flawed features are not available
in those contexts. This book will cover the legacy features of
JavaScript but is careful to point out that they are not available in
<span class="keep-together">strict mode.</span></p>
</div></aside>

<p>To be useful, every language must have a platform, or standard
library, for performing things like basic input and output.  The core
JavaScript language defines a minimal API for working with numbers, text, arrays, sets, maps, and so
on, but does not include any input or output functionality. Input and
output (as well as more sophisticated features, such as networking,
storage, and graphics) are the responsibility of the “host
environment” within which JavaScript is embedded.</p>

<p>The original host environment for JavaScript was a web browser, and
this is still the most common execution environment for JavaScript
code. The web browser environment allows JavaScript code to obtain
input from the user’s mouse and keyboard and by making HTTP
requests. And it allows JavaScript code to display output to the user
with HTML and CSS.</p>

<p>Since<a data-type="indexterm" data-primary="Node" data-secondary="benefits of" id="idm46198582066504"/> 2010, another host environment has been available for JavaScript
code. Instead of constraining JavaScript to work with the APIs
provided by a web browser, Node gives JavaScript access to the entire
operating system, allowing JavaScript programs to read and write
files, send and receive data over the network, and make and serve HTTP
requests. Node is a popular choice for implementing web servers and
also a convenient tool for writing simple utility scripts as an
alternative to shell scripts.</p>

<p>Most of this book is focused on the JavaScript language itself.
<a data-type="xref" href="ch11.xhtml#builtintypes">Chapter 11</a> documents the JavaScript standard library, <a data-type="xref" href="ch15.xhtml#clientside">Chapter 15</a> introduces the web browser host environment, and
<a data-type="xref" href="ch16.xhtml#serverside">Chapter 16</a> introduces the Node host environment.</p>

<p>This book covers low-level fundamentals first, and then builds on
those to more advanced and higher-level abstractions. The chapters are
intended to be read more or less in order. But learning a new
programming language is never a linear process, and describing a
language is not linear either: each language feature is related to
other features, and this book is full of cross-references—sometimes
backward and sometimes forward—to related material. This introductory
chapter makes a quick first pass through the language, introducing key
features that will make it easier to understand the in-depth treatment
in the chapters that follow. If you are already a practicing
JavaScript programmer, you can probably skip this chapter. (Although you
might enjoy reading <a data-type="xref" href="#charfreq.js">Example 1-1</a> at the end of the chapter before
you move on.)</p>






<section data-type="sect1" data-pdf-bookmark="1.1 Exploring JavaScript"><div class="sect1" id="idm46198582059640">
<h1>1.1 Exploring JavaScript</h1>

<p>When<a data-type="indexterm" data-primary="development tools" id="idm46198582058104"/><a data-type="indexterm" data-primary="browser development tools" id="idm46198582057368"/><a data-type="indexterm" data-primary="web developer tools" id="idm46198582056680"/><a data-type="indexterm" data-primary="code examples" data-secondary="trying out JavaScript code" id="idm46198582056008"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="JavaScript interpreters" id="idm46198582055048"/> learning a new programming language, it’s important to try the
examples in the book, then modify them and try them again to test
your understanding of the language. To do that, you need a JavaScript
interpreter.</p>

<p>The easiest way to try out a few lines of JavaScript is to open up the
web developer tools in your web browser (with F12, Ctrl-Shift-I,
or Command-Option-I) and select the Console tab. You can then type
code at the prompt and see the results as you type. Browser developer
tools often appear as panes at the bottom or right of the browser
window, but you can usually detach them as separate windows (as
pictured in <a data-type="xref" href="Images/#console.png">Figure 1-1</a>), which is often quite convenient.</p>

<figure><div id="console.png" class="figure">
<img src="Images/js7e_0101.png" alt="js7e 0101" width="1278" height="727"/>
<h6><span class="label">Figure 1-1. </span>The JavaScript console in Firefox’s Developer Tools</h6>
</div></figure>

<p>Another<a data-type="indexterm" data-primary="Firefox Developer Tools" id="idm46198582049480"/><a data-type="indexterm" data-primary="Node" data-secondary="installing" id="idm46198582048744"/> way to try out JavaScript code is to download and install Node
from <a href="https://nodejs.org"><em class="hyperlink">https://nodejs.org</em></a>. Once Node is installed on your system, you
can simply open a Terminal window and type <strong><code>node</code></strong> to begin an
interactive JavaScript session like this one:</p>

<pre data-type="programlisting">$ node
Welcome to Node.js v12.13.0.
Type ".help" for more information.
&gt; .help
.break    Sometimes you get stuck, this gets you out
.clear    Alias for .break
.editor   Enter editor mode
.exit     Exit the repl
.help     Print this help message
.load     Load JS from a file into the REPL session
.save     Save all evaluated commands in this REPL session to a file

Press ^C to abort current expression, ^D to exit the repl
&gt; let x = 2, y = 3;
undefined
&gt; x + y
5
&gt; (x === 2) &amp;&amp; (y === 3)
true
&gt; (x &gt; 3) || (y &lt; 3)
false</pre>
</div></section>













<section data-type="sect1" data-pdf-bookmark="1.2 Hello World"><div class="sect1" id="idm46198582030712">
<h1>1.2 Hello World</h1>

<p>When<a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="Hello World" id="idm46198582028984"/><a data-type="indexterm" data-primary="Hello World" id="idm46198582027704"/><a data-type="indexterm" data-primary="text editors" data-secondary="using with Node" id="idm46198582027032"/> you are ready to start experimenting with longer chunks of code,
these line-by-line interactive environments may no longer be suitable,
and you will probably prefer to write your code in a text editor. From
there, you can copy and paste to the JavaScript console or into a Node
session. Or you can save your code to a file (the traditional
filename extension for JavaScript code is <em>.js</em>) and then run that
file of JavaScript code with Node:</p>

<pre data-type="programlisting">$ node snippet.js</pre>

<p>If you use Node in a noninteractive manner like this, it won’t
automatically print out the value of all the code you run, so you’ll
have to do that yourself. You<a data-type="indexterm" data-primary="console.log() function" id="idm46198582023864"/> can use the function <code>console.log()</code> to
display text and other JavaScript values in your terminal window or in
a browser’s developer tools console. So, for example, if you create a
<em>hello.js</em> file containing this line of code:</p>

<pre data-type="programlisting">console.log("Hello World!");</pre>

<p>and execute the file with <code>node hello.js</code>, you’ll see the message
“Hello World!” printed out.</p>

<p>If you want to see that same message printed out in the JavaScript
console of a web browser, create a new file named <em>hello.html</em>, and
put this text in it:</p>

<pre data-type="programlisting">&lt;script src="hello.js"&gt;&lt;/script&gt;</pre>

<p>Then load <em>hello.html</em> into your web browser using a <code>file://</code> URL
like this one:</p>

<pre data-type="programlisting">file:///Users/username/javascript/hello.html</pre>

<p>Open the developer tools window to see the greeting in the console.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="1.3 A Tour of JavaScript"><div class="sect1" id="corejavascript">
<h1>1.3 A Tour of JavaScript</h1>

<p>This<a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="syntax and capabilities" id="JSintrosyntax01"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="chapter overviews" id="idm46198582012216"/> section presents a quick introduction, through code examples, to the
JavaScript language. After this introductory chapter, we dive into
JavaScript at the lowest level: <a data-type="xref" href="ch02.xhtml#lexical">Chapter 2</a> explains things like
JavaScript comments, semicolons, and the Unicode character set.
<a data-type="xref" href="ch03.xhtml#datatypes">Chapter 3</a> starts to get more interesting: it explains JavaScript
variables and the values you can assign to those variables.</p>

<p>Here’s<a data-type="indexterm" data-primary="// (double slashes)" id="idm46198582008344"/><a data-type="indexterm" data-primary="double slashes (//)" id="idm46198582007608"/><a data-type="indexterm" data-primary="comments" data-secondary="syntax for" id="idm46198582006936"/><a data-type="indexterm" data-primary="syntax" data-secondary="English-language comments" id="idm46198582005992"/><a data-type="indexterm" data-primary="variables" data-secondary="declaration and assignment" data-tertiary="overview of" id="idm46198582005080"/><a data-type="indexterm" data-primary="keywords" data-secondary="let keyword" id="idm46198582003848"/><a data-type="indexterm" data-primary="let keyword" id="idm46198582002904"/><a data-type="indexterm" data-primary="syntax" data-secondary="declaring variables" id="idm46198582002232"/><a data-type="indexterm" data-primary="values" data-secondary="assigning" id="idm46198582001288"/><a data-type="indexterm" data-primary="= (assignment operator)" id="idm46198582000344"/><a data-type="indexterm" data-primary="syntax" data-secondary="variables, assigning values to" id="idm46198581999672"/><a data-type="indexterm" data-primary="assignment operator (=)" id="idm46198581998712"/> some
sample code to illustrate the highlights of those two chapters:</p>

<pre data-type="programlisting" data-code-language="js"><code class="c1">// Anything following double slashes is an English-language comment.</code>
<code class="c1">// Read the comments carefully: they explain the JavaScript code.</code>

<code class="c1">// A variable is a symbolic name for a value.</code>
<code class="c1">// Variables are declared with the let keyword:</code>
<code class="kd">let</code> <code class="nx">x</code><code class="p">;</code>                     <code class="c1">// Declare a variable named x.</code>

<code class="c1">// Values can be assigned to variables with an = sign</code>
<code class="nx">x</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>                     <code class="c1">// Now the variable x has the value 0</code>
<code class="nx">x</code>                          <code class="c1">// =&gt; 0: A variable evaluates to its value.</code>

<code class="c1">// JavaScript supports several types of values</code>
<code class="nx">x</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>                     <code class="c1">// Numbers.</code>
<code class="nx">x</code> <code class="o">=</code> <code class="mf">0.01</code><code class="p">;</code>                  <code class="c1">// Numbers can be integers or reals.</code>
<code class="nx">x</code> <code class="o">=</code> <code class="s2">"hello world"</code><code class="p">;</code>         <code class="c1">// Strings of text in quotation marks.</code>
<code class="nx">x</code> <code class="o">=</code> <code class="s1">'JavaScript'</code><code class="p">;</code>          <code class="c1">// Single quote marks also delimit strings.</code>
<code class="nx">x</code> <code class="o">=</code> <code class="kc">true</code><code class="p">;</code>                  <code class="c1">// A Boolean value.</code>
<code class="nx">x</code> <code class="o">=</code> <code class="kc">false</code><code class="p">;</code>                 <code class="c1">// The other Boolean value.</code>
<code class="nx">x</code> <code class="o">=</code> <code class="kc">null</code><code class="p">;</code>                  <code class="c1">// Null is a special value that means "no value."</code>
<code class="nx">x</code> <code class="o">=</code> <code class="kc">undefined</code><code class="p">;</code>             <code class="c1">// Undefined is another special value like null.</code></pre>

<p>Two<a data-type="indexterm" data-primary="values" data-secondary="types of" id="idm46198581940408"/> other very important <em>types</em> that JavaScript programs can
manipulate are objects and arrays. These are the subjects of Chapters
<a data-type="xref" data-xrefstyle="select:labelnumber" href="ch06.xhtml#objects">6</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch07.xhtml#arrays">7</a>, but they are so important that you’ll see
them many times before you reach those<a data-type="indexterm" data-primary="objects" data-secondary="overview of" id="idm46198581624520"/><a data-type="indexterm" data-primary="types" data-secondary="objects" data-see="objects" id="idm46198581623544"/><a data-type="indexterm" data-primary="{} (curly braces)" id="idm46198581622328"/><a data-type="indexterm" data-primary="curly braces ({})" id="idm46198581621656"/><a data-type="indexterm" data-primary="syntax" data-secondary="objects" data-tertiary="declaring" id="idm46198581620984"/><a data-type="indexterm" data-primary=". (dot operator)" id="idm46198581619768"/><a data-type="indexterm" data-primary="dot operator (.)" id="idm46198581619096"/><a data-type="indexterm" data-primary="[] (square brackets)" id="idm46198581618424"/><a data-type="indexterm" data-primary="square brackets ([])" id="idm46198581617752"/><a data-type="indexterm" data-primary="syntax" data-secondary="objects" data-tertiary="conditionally accessing properties" id="idm46198581617080"/><a data-type="indexterm" data-primary="?. (conditional access operator)" id="idm46198581615800"/><a data-type="indexterm" data-primary="conditional access operator (?.)" id="idm46198581615112"/><a data-type="indexterm" data-primary="ES2020" data-secondary="conditional access operator (?.)" id="idm46198581614424"/><a data-type="indexterm" data-primary="arrays" data-secondary="overview of" id="idm46198581613464"/> chapters:</p>

<pre data-type="programlisting" data-code-language="js"><code class="c1">// JavaScript's most important datatype is the object.</code>
<code class="c1">// An object is a collection of name/value pairs, or a string to value map.</code>
<code class="kd">let</code> <code class="nx">book</code> <code class="o">=</code> <code class="p">{</code>               <code class="c1">// Objects are enclosed in curly braces.</code>
    <code class="nx">topic</code><code class="o">:</code> <code class="s2">"JavaScript"</code><code class="p">,</code>   <code class="c1">// The property "topic" has value "JavaScript."</code>
    <code class="nx">edition</code><code class="o">:</code> <code class="mi">7</code>             <code class="c1">// The property "edition" has value 7</code>
<code class="p">};</code>                         <code class="c1">// The curly brace marks the end of the object.</code>

<code class="c1">// Access the properties of an object with . or []:</code>
<code class="nx">book</code><code class="p">.</code><code class="nx">topic</code>                 <code class="c1">// =&gt; "JavaScript"</code>
<code class="nx">book</code><code class="p">[</code><code class="s2">"edition"</code><code class="p">]</code>            <code class="c1">// =&gt; 7: another way to access property values.</code>
<code class="nx">book</code><code class="p">.</code><code class="nx">author</code> <code class="o">=</code> <code class="s2">"Flanagan"</code><code class="p">;</code>  <code class="c1">// Create new properties by assignment.</code>
<code class="nx">book</code><code class="p">.</code><code class="nx">contents</code> <code class="o">=</code> <code class="p">{};</code>        <code class="c1">// {} is an empty object with no properties.</code>

<code class="c1">// Conditionally access properties with ?. (ES2020):</code>
<code class="nx">book</code><code class="p">.</code><code class="nx">contents</code><code class="o">?</code><code class="p">.</code><code class="nx">ch01</code><code class="o">?</code><code class="p">.</code><code class="nx">sect1</code> <code class="c1">// =&gt; undefined: book.contents has no ch01 property.</code>

<code class="c1">// JavaScript also supports arrays (numerically indexed lists) of values:</code>
<code class="kd">let</code> <code class="nx">primes</code> <code class="o">=</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">7</code><code class="p">];</code> <code class="c1">// An array of 4 values, delimited with [ and ].</code>
<code class="nx">primes</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code>                  <code class="c1">// =&gt; 2: the first element (index 0) of the array.</code>
<code class="nx">primes</code><code class="p">.</code><code class="nx">length</code>              <code class="c1">// =&gt; 4: how many elements in the array.</code>
<code class="nx">primes</code><code class="p">[</code><code class="nx">primes</code><code class="p">.</code><code class="nx">length</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code>    <code class="c1">// =&gt; 7: the last element of the array.</code>
<code class="nx">primes</code><code class="p">[</code><code class="mi">4</code><code class="p">]</code> <code class="o">=</code> <code class="mi">9</code><code class="p">;</code>             <code class="c1">// Add a new element by assignment.</code>
<code class="nx">primes</code><code class="p">[</code><code class="mi">4</code><code class="p">]</code> <code class="o">=</code> <code class="mi">11</code><code class="p">;</code>            <code class="c1">// Or alter an existing element by assignment.</code>
<code class="kd">let</code> <code class="nx">empty</code> <code class="o">=</code> <code class="p">[];</code>            <code class="c1">// [] is an empty array with no elements.</code>
<code class="nx">empty</code><code class="p">.</code><code class="nx">length</code>               <code class="c1">// =&gt; 0</code>

<code class="c1">// Arrays and objects can hold other arrays and objects:</code>
<code class="kd">let</code> <code class="nx">points</code> <code class="o">=</code> <code class="p">[</code>             <code class="c1">// An array with 2 elements.</code>
    <code class="p">{</code><code class="nx">x</code><code class="o">:</code> <code class="mi">0</code><code class="p">,</code> <code class="nx">y</code><code class="o">:</code> <code class="mi">0</code><code class="p">},</code>          <code class="c1">// Each element is an object.</code>
    <code class="p">{</code><code class="nx">x</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">y</code><code class="o">:</code> <code class="mi">1</code><code class="p">}</code>
<code class="p">];</code>
<code class="kd">let</code> <code class="nx">data</code> <code class="o">=</code> <code class="p">{</code>                 <code class="c1">// An object with 2 properties</code>
    <code class="nx">trial1</code><code class="o">:</code> <code class="p">[[</code><code class="mi">1</code><code class="p">,</code><code class="mi">2</code><code class="p">],</code> <code class="p">[</code><code class="mi">3</code><code class="p">,</code><code class="mi">4</code><code class="p">]],</code>  <code class="c1">// The value of each property is an array.</code>
    <code class="nx">trial2</code><code class="o">:</code> <code class="p">[[</code><code class="mi">2</code><code class="p">,</code><code class="mi">3</code><code class="p">],</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code><code class="mi">5</code><code class="p">]]</code>   <code class="c1">// The elements of the arrays are arrays.</code>
<code class="p">};</code></pre>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46198581609688">
<h5>Comment Syntax in Code Examples</h5>
<p>You<a data-type="indexterm" data-primary="syntax" data-secondary="English-language comments" id="idm46198581608264"/><a data-type="indexterm" data-primary="comments" data-secondary="syntax in code examples" id="idm46198574560616"/><a data-type="indexterm" data-primary="code examples" data-secondary="comment syntax in" id="idm46198574559784"/> may have noticed in the preceding code that some of the comments begin
with an arrow (<code>=&gt;</code>). These show the value produced by the code before
the comment and are my attempt to emulate an interactive JavaScript
environment like a web browser console in a printed book.</p>

<p>Those <code>// =&gt;</code> comments<a data-type="indexterm" data-primary="assertions" id="idm46198574557272"/><a data-type="indexterm" data-primary="// (double slashes)" id="idm46198574556536"/><a data-type="indexterm" data-primary="double slashes (//)" id="idm46198574555864"/> also serve as an <em>assertion</em>, and I’ve written
a tool that tests the code and verifies that it produces the value
specified in the comment. This should help, I hope, to reduce
errors in the book.</p>

<p>There are two related styles of comment/assertion. If you see a
comment of the form <code>// a == 42</code>, it means that after the code before
the comment runs, the variable <code>a</code> will have the value 42. If you see
a comment of the form <code>// !</code>, it means that the code on the line
before the comment throws an exception (and the rest of the comment
after the exclamation mark usually explains what kind of exception is
thrown).</p>

<p>You’ll see these comments used throughout the book.</p>
</div></aside>

<p>The<a data-type="indexterm" data-primary="initializer expression" id="idm46198574551544"/><a data-type="indexterm" data-primary="arrays" data-secondary="initializer expressions" id="idm46198574550808"/><a data-type="indexterm" data-primary="expressions" data-secondary="initializer expression" id="idm46198574549864"/><a data-type="indexterm" data-primary="syntax" data-secondary="expressions" data-tertiary="initializer expression" id="idm46198574548920"/> syntax illustrated here for listing array elements within square
braces or mapping object property names to property values inside curly
braces is known as an <em>initializer expression</em>, and it is just one of
the topics of <a data-type="xref" href="ch04.xhtml#expressions">Chapter 4</a>. An <em>expression</em> is a phrase of
JavaScript that can be <em>evaluated</em> to produce a value. For example, the
use of <code>.</code> and <code>[]</code> to refer to the value of an object property or
array element is an expression.</p>

<p>One<a data-type="indexterm" data-primary="expressions" data-secondary="forming with operators" id="idm46198574543912"/><a data-type="indexterm" data-primary="syntax" data-secondary="expressions" data-tertiary="forming with operators" id="idm46198574542904"/><a data-type="indexterm" data-primary="operators" data-secondary="forming expressions with" id="idm46198574541688"/> of the most common ways to form expressions in JavaScript is to<a data-type="indexterm" data-primary="operators" data-secondary="arithmetic operators" id="idm46198574540600"/><a data-type="indexterm" data-primary="arithmetic operators" id="idm46198574539656"/><a data-type="indexterm" data-primary="syntax" data-secondary="equality and relational operators" id="idm46198574538984"/><a data-type="indexterm" data-primary="operators" data-secondary="equality operators" id="idm46198574538024"/><a data-type="indexterm" data-primary="equality operators" id="idm46198574537080"/><a data-type="indexterm" data-primary="operators" data-secondary="relational operators" id="idm46198574536408"/><a data-type="indexterm" data-primary="relational operators" id="idm46198574535464"/> use
<em>operators</em>:</p>

<pre data-type="programlisting" data-code-language="js"><code class="c1">// Operators act on values (the operands) to produce a new value.</code>
<code class="c1">// Arithmetic operators are some of the simplest:</code>
<code class="mi">3</code> <code class="o">+</code> <code class="mi">2</code>                      <code class="c1">// =&gt; 5: addition</code>
<code class="mi">3</code> <code class="o">-</code> <code class="mi">2</code>                      <code class="c1">// =&gt; 1: subtraction</code>
<code class="mi">3</code> <code class="o">*</code> <code class="mi">2</code>                      <code class="c1">// =&gt; 6: multiplication</code>
<code class="mi">3</code> <code class="o">/</code> <code class="mi">2</code>                      <code class="c1">// =&gt; 1.5: division</code>
<code class="nx">points</code><code class="p">[</code><code class="mi">1</code><code class="p">].</code><code class="nx">x</code> <code class="o">-</code> <code class="nx">points</code><code class="p">[</code><code class="mi">0</code><code class="p">].</code><code class="nx">x</code>  <code class="c1">// =&gt; 1: more complicated operands also work</code>
<code class="s2">"3"</code> <code class="o">+</code> <code class="s2">"2"</code>                  <code class="c1">// =&gt; "32": + adds numbers, concatenates strings</code>

<code class="c1">// JavaScript defines some shorthand arithmetic operators</code>
<code class="kd">let</code> <code class="nx">count</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>             <code class="c1">// Define a variable</code>
<code class="nx">count</code><code class="o">++</code><code class="p">;</code>                   <code class="c1">// Increment the variable</code>
<code class="nx">count</code><code class="o">--</code><code class="p">;</code>                   <code class="c1">// Decrement the variable</code>
<code class="nx">count</code> <code class="o">+=</code> <code class="mi">2</code><code class="p">;</code>                <code class="c1">// Add 2: same as count = count + 2;</code>
<code class="nx">count</code> <code class="o">*=</code> <code class="mi">3</code><code class="p">;</code>                <code class="c1">// Multiply by 3: same as count = count * 3;</code>
<code class="nx">count</code>                      <code class="c1">// =&gt; 6: variable names are expressions, too.</code>

<code class="c1">// Equality and relational operators test whether two values are equal,</code>
<code class="c1">// unequal, less than, greater than, and so on. They evaluate to true or false.</code>
<code class="kd">let</code> <code class="nx">x</code> <code class="o">=</code> <code class="mi">2</code><code class="p">,</code> <code class="nx">y</code> <code class="o">=</code> <code class="mi">3</code><code class="p">;</code>          <code class="c1">// These = signs are assignment, not equality tests</code>
<code class="nx">x</code> <code class="o">===</code> <code class="nx">y</code>                    <code class="c1">// =&gt; false: equality</code>
<code class="nx">x</code> <code class="o">!==</code> <code class="nx">y</code>                    <code class="c1">// =&gt; true: inequality</code>
<code class="nx">x</code> <code class="o">&lt;</code> <code class="nx">y</code>                      <code class="c1">// =&gt; true: less-than</code>
<code class="nx">x</code> <code class="o">&lt;=</code> <code class="nx">y</code>                     <code class="c1">// =&gt; true: less-than or equal</code>
<code class="nx">x</code> <code class="o">&gt;</code> <code class="nx">y</code>                      <code class="c1">// =&gt; false: greater-than</code>
<code class="nx">x</code> <code class="o">&gt;=</code> <code class="nx">y</code>                     <code class="c1">// =&gt; false: greater-than or equal</code>
<code class="s2">"two"</code> <code class="o">===</code> <code class="s2">"three"</code>          <code class="c1">// =&gt; false: the two strings are different</code>
<code class="s2">"two"</code> <code class="o">&gt;</code> <code class="s2">"three"</code>            <code class="c1">// =&gt; true: "tw" is alphabetically greater than "th"</code>
<code class="kc">false</code> <code class="o">===</code> <code class="p">(</code><code class="nx">x</code> <code class="o">&gt;</code> <code class="nx">y</code><code class="p">)</code>          <code class="c1">// =&gt; true: false is equal to false</code>

<code class="c1">// Logical operators combine or invert boolean values</code>
<code class="p">(</code><code class="nx">x</code> <code class="o">===</code> <code class="mi">2</code><code class="p">)</code> <code class="o">&amp;&amp;</code> <code class="p">(</code><code class="nx">y</code> <code class="o">===</code> <code class="mi">3</code><code class="p">)</code>     <code class="c1">// =&gt; true: both comparisons are true. &amp;&amp; is AND</code>
<code class="p">(</code><code class="nx">x</code> <code class="o">&gt;</code> <code class="mi">3</code><code class="p">)</code> <code class="o">||</code> <code class="p">(</code><code class="nx">y</code> <code class="o">&lt;</code> <code class="mi">3</code><code class="p">)</code>         <code class="c1">// =&gt; false: neither comparison is true. || is OR</code>
<code class="o">!</code><code class="p">(</code><code class="nx">x</code> <code class="o">===</code> <code class="nx">y</code><code class="p">)</code>                 <code class="c1">// =&gt; true: ! inverts a boolean value</code></pre>

<p>If<a data-type="indexterm" data-primary="syntax" data-secondary="logical operators" id="idm46198574530696"/><a data-type="indexterm" data-primary="operators" data-secondary="logical operators" id="idm46198574529512"/><a data-type="indexterm" data-primary="logical operators" id="idm46198574528568"/><a data-type="indexterm" data-primary="syntax" data-secondary="statements" id="idm46198573996488"/><a data-type="indexterm" data-primary="statements" data-secondary="versus expressions" data-secondary-sortas="expressions" id="idm46198573995544"/> JavaScript expressions are like phrases, then JavaScript
<em>statements</em> are like full sentences. Statements are the topic of
<a data-type="xref" href="ch05.xhtml#statements">Chapter 5</a>. Roughly, an<a data-type="indexterm" data-primary="expressions" data-secondary="versus statements" data-secondary-sortas="statements" id="idm46198573992984"/> expression is something that computes a
value but doesn’t <em>do</em> anything: it doesn’t alter the program state in
any way. Statements, on the other hand, don’t have a value, but they
do alter the state. You’ve seen variable declarations and assignment
statements above. The<a data-type="indexterm" data-primary="statements" data-secondary="control structures" id="Scontrol01"/><a data-type="indexterm" data-primary="control structures" id="control01"/><a data-type="indexterm" data-primary="syntax" data-secondary="control structures" id="SYcontrol01"/> other broad category of statement is <em>control structures</em>, such as conditionals and loops. You’ll see examples below, after we cover functions.</p>

<p>A <em>function</em> is<a data-type="indexterm" data-primary="syntax" data-secondary="functions" id="idm46198573986520"/><a data-type="indexterm" data-primary="functions" data-secondary="invoking" data-tertiary="examples" id="idm46198573985512"/> a named and parameterized block of JavaScript code that
you define once, and can then invoke over and over again. Functions
aren’t covered formally until <a data-type="xref" href="ch08.xhtml#functions">Chapter 8</a>, but like objects and
arrays, you’ll see them many times before you get to that chapter. Here
are some simple examples:</p>

<pre data-type="programlisting" data-code-language="js"><code class="c1">// Functions are parameterized blocks of JavaScript code that we can invoke.</code>
<code class="kd">function</code> <code class="nx">plus1</code><code class="p">(</code><code class="nx">x</code><code class="p">)</code> <code class="p">{</code>        <code class="c1">// Define a function named "plus1" with parameter "x"</code>
    <code class="k">return</code> <code class="nx">x</code> <code class="o">+</code> <code class="mi">1</code><code class="p">;</code>          <code class="c1">// Return a value one larger than the value passed in</code>
<code class="p">}</code>                          <code class="c1">// Functions are enclosed in curly braces</code>

<code class="nx">plus1</code><code class="p">(</code><code class="nx">y</code><code class="p">)</code>                   <code class="c1">// =&gt; 4: y is 3, so this invocation returns 3+1</code>

<code class="kd">let</code> <code class="nx">square</code> <code class="o">=</code> <code class="kd">function</code><code class="p">(</code><code class="nx">x</code><code class="p">)</code> <code class="p">{</code> <code class="c1">// Functions are values and can be assigned to vars</code>
    <code class="k">return</code> <code class="nx">x</code> <code class="o">*</code> <code class="nx">x</code><code class="p">;</code>          <code class="c1">// Compute the function's value</code>
<code class="p">};</code>                         <code class="c1">// Semicolon marks the end of the assignment.</code>

<code class="nx">square</code><code class="p">(</code><code class="nx">plus1</code><code class="p">(</code><code class="nx">y</code><code class="p">))</code>           <code class="c1">// =&gt; 16: invoke two functions in one expression</code></pre>

<p>In<a data-type="indexterm" data-primary="functions" data-secondary="shorthand syntax for" id="idm46198573850312"/><a data-type="indexterm" data-primary="arrows (=&gt;)" id="idm46198573933048"/><a data-type="indexterm" data-primary="=&gt; (arrows)" id="idm46198573932376"/> ES6 and later, there is a shorthand syntax for defining
functions. This<a data-type="indexterm" data-primary="functions" data-secondary="arrow functions" id="idm46198573931576"/><a data-type="indexterm" data-primary="arrow functions" id="idm46198573930632"/> concise syntax uses <code>=&gt;</code> to separate the argument list
from the function body, so functions defined this way are known as
<em>arrow functions</em>. Arrow functions are most commonly used when you
want to pass an unnamed function as an argument to another
function. The preceding code looks like this when rewritten to use arrow
functions:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kr">const</code> <code class="nx">plus1</code> <code class="o">=</code> <code class="nx">x</code> <code class="o">=&gt;</code> <code class="nx">x</code> <code class="o">+</code> <code class="mi">1</code><code class="p">;</code>   <code class="c1">// The input x maps to the output x + 1</code>
<code class="kr">const</code> <code class="nx">square</code> <code class="o">=</code> <code class="nx">x</code> <code class="o">=&gt;</code> <code class="nx">x</code> <code class="o">*</code> <code class="nx">x</code><code class="p">;</code>  <code class="c1">// The input x maps to the output x * x</code>
<code class="nx">plus1</code><code class="p">(</code><code class="nx">y</code><code class="p">)</code>                    <code class="c1">// =&gt; 4: function invocation is the same</code>
<code class="nx">square</code><code class="p">(</code><code class="nx">plus1</code><code class="p">(</code><code class="nx">y</code><code class="p">))</code>            <code class="c1">// =&gt; 16</code></pre>

<p>When<a data-type="indexterm" data-primary="syntax" data-secondary="methods" id="idm46198573800120"/><a data-type="indexterm" data-primary="methods" data-secondary="creating" id="idm46198573891912"/><a data-type="indexterm" data-primary="push() method" id="idm46198573891000"/><a data-type="indexterm" data-primary="reverse() method" id="idm46198573890328"/><a data-type="indexterm" data-primary="keywords" data-secondary="this keyword" id="idm46198573889656"/><a data-type="indexterm" data-primary="this keyword" id="idm46198573888712"/> we use functions with objects, we get <em>methods</em>:</p>

<pre data-type="programlisting" data-code-language="js"><code class="c1">// When functions are assigned to the properties of an object, we call</code>
<code class="c1">// them "methods."  All JavaScript objects (including arrays) have methods:</code>
<code class="kd">let</code> <code class="nx">a</code> <code class="o">=</code> <code class="p">[];</code>                <code class="c1">// Create an empty array</code>
<code class="nx">a</code><code class="p">.</code><code class="nx">push</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code><code class="mi">2</code><code class="p">,</code><code class="mi">3</code><code class="p">);</code>             <code class="c1">// The push() method adds elements to an array</code>
<code class="nx">a</code><code class="p">.</code><code class="nx">reverse</code><code class="p">();</code>               <code class="c1">// Another method: reverse the order of elements</code>

<code class="c1">// We can define our own methods, too. The "this" keyword refers to the object</code>
<code class="c1">// on which the method is defined: in this case, the points array from earlier.</code>
<code class="nx">points</code><code class="p">.</code><code class="nx">dist</code> <code class="o">=</code> <code class="kd">function</code><code class="p">()</code> <code class="p">{</code> <code class="c1">// Define a method to compute distance between points</code>
    <code class="kd">let</code> <code class="nx">p1</code> <code class="o">=</code> <code class="k">this</code><code class="p">[</code><code class="mi">0</code><code class="p">];</code>      <code class="c1">// First element of array we're invoked on</code>
    <code class="kd">let</code> <code class="nx">p2</code> <code class="o">=</code> <code class="k">this</code><code class="p">[</code><code class="mi">1</code><code class="p">];</code>      <code class="c1">// Second element of the "this" object</code>
    <code class="kd">let</code> <code class="nx">a</code> <code class="o">=</code> <code class="nx">p2</code><code class="p">.</code><code class="nx">x</code><code class="o">-</code><code class="nx">p1</code><code class="p">.</code><code class="nx">x</code><code class="p">;</code>     <code class="c1">// Difference in x coordinates</code>
    <code class="kd">let</code> <code class="nx">b</code> <code class="o">=</code> <code class="nx">p2</code><code class="p">.</code><code class="nx">y</code><code class="o">-</code><code class="nx">p1</code><code class="p">.</code><code class="nx">y</code><code class="p">;</code>     <code class="c1">// Difference in y coordinates</code>
    <code class="k">return</code> <code class="nb">Math</code><code class="p">.</code><code class="nx">sqrt</code><code class="p">(</code><code class="nx">a</code><code class="o">*</code><code class="nx">a</code> <code class="o">+</code> <code class="c1">// The Pythagorean theorem</code>
                     <code class="nx">b</code><code class="o">*</code><code class="nx">b</code><code class="p">);</code> <code class="c1">// Math.sqrt() computes the square root</code>
<code class="p">};</code>
<code class="nx">points</code><code class="p">.</code><code class="nx">dist</code><code class="p">()</code>              <code class="c1">// =&gt; Math.sqrt(2): distance between our 2 points</code></pre>

<p>Now, as promised, here are some functions whose bodies demonstrate
common JavaScript control structure statements:</p>

<pre data-type="programlisting" data-code-language="js"><code class="c1">// JavaScript statements include conditionals and loops using the syntax</code>
<code class="c1">// of C, C++, Java, and other languages.</code>
<code class="kd">function</code> <code class="nx">abs</code><code class="p">(</code><code class="nx">x</code><code class="p">)</code> <code class="p">{</code>          <code class="c1">// A function to compute the absolute value.</code>
    <code class="k">if</code> <code class="p">(</code><code class="nx">x</code> <code class="o">&gt;=</code> <code class="mi">0</code><code class="p">)</code> <code class="p">{</code>          <code class="c1">// The if statement...</code>
        <code class="k">return</code> <code class="nx">x</code><code class="p">;</code>          <code class="c1">// executes this code if the comparison is true.</code>
    <code class="p">}</code>                      <code class="c1">// This is the end of the if clause.</code>
    <code class="k">else</code> <code class="p">{</code>                 <code class="c1">// The optional else clause executes its code if</code>
        <code class="k">return</code> <code class="o">-</code><code class="nx">x</code><code class="p">;</code>         <code class="c1">// the comparison is false.</code>
    <code class="p">}</code>                      <code class="c1">// Curly braces optional when 1 statement per clause.</code>
<code class="p">}</code>                          <code class="c1">// Note return statements nested inside if/else.</code>
<code class="nx">abs</code><code class="p">(</code><code class="o">-</code><code class="mi">10</code><code class="p">)</code> <code class="o">===</code> <code class="nx">abs</code><code class="p">(</code><code class="mi">10</code><code class="p">)</code>       <code class="c1">// =&gt; true</code>

<code class="kd">function</code> <code class="nx">sum</code><code class="p">(</code><code class="nx">array</code><code class="p">)</code> <code class="p">{</code>      <code class="c1">// Compute the sum of the elements of an array</code>
    <code class="kd">let</code> <code class="nx">sum</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>           <code class="c1">// Start with an initial sum of 0.</code>
    <code class="k">for</code><code class="p">(</code><code class="kd">let</code> <code class="nx">x</code> <code class="k">of</code> <code class="nx">array</code><code class="p">)</code> <code class="p">{</code>  <code class="c1">// Loop over array, assigning each element to x.</code>
        <code class="nx">sum</code> <code class="o">+=</code> <code class="nx">x</code><code class="p">;</code>          <code class="c1">// Add the element value to the sum.</code>
    <code class="p">}</code>                      <code class="c1">// This is the end of the loop.</code>
    <code class="k">return</code> <code class="nx">sum</code><code class="p">;</code>            <code class="c1">// Return the sum.</code>
<code class="p">}</code>
<code class="nx">sum</code><code class="p">(</code><code class="nx">primes</code><code class="p">)</code>                <code class="c1">// =&gt; 28: sum of the first 5 primes 2+3+5+7+11</code>

<code class="kd">function</code> <code class="nx">factorial</code><code class="p">(</code><code class="nx">n</code><code class="p">)</code> <code class="p">{</code>    <code class="c1">// A function to compute factorials</code>
    <code class="kd">let</code> <code class="nx">product</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>       <code class="c1">// Start with a product of 1</code>
    <code class="k">while</code><code class="p">(</code><code class="nx">n</code> <code class="o">&gt;</code> <code class="mi">1</code><code class="p">)</code> <code class="p">{</code>         <code class="c1">// Repeat statements in {} while expr in () is true</code>
        <code class="nx">product</code> <code class="o">*=</code> <code class="nx">n</code><code class="p">;</code>      <code class="c1">// Shortcut for product = product * n;</code>
        <code class="nx">n</code><code class="o">--</code><code class="p">;</code>               <code class="c1">// Shortcut for n = n - 1</code>
    <code class="p">}</code>                      <code class="c1">// End of loop</code>
    <code class="k">return</code> <code class="nx">product</code><code class="p">;</code>        <code class="c1">// Return the product</code>
<code class="p">}</code>
<code class="nx">factorial</code><code class="p">(</code><code class="mi">4</code><code class="p">)</code>               <code class="c1">// =&gt; 24: 1*4*3*2</code>

<code class="kd">function</code> <code class="nx">factorial2</code><code class="p">(</code><code class="nx">n</code><code class="p">)</code> <code class="p">{</code>   <code class="c1">// Another version using a different loop</code>
    <code class="kd">let</code> <code class="nx">i</code><code class="p">,</code> <code class="nx">product</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>    <code class="c1">// Start with 1</code>
    <code class="k">for</code><code class="p">(</code><code class="nx">i</code><code class="o">=</code><code class="mi">2</code><code class="p">;</code> <code class="nx">i</code> <code class="o">&lt;=</code> <code class="nx">n</code><code class="p">;</code> <code class="nx">i</code><code class="o">++</code><code class="p">)</code>  <code class="c1">// Automatically increment i from 2 up to n</code>
        <code class="nx">product</code> <code class="o">*=</code> <code class="nx">i</code><code class="p">;</code>      <code class="c1">// Do this each time. {} not needed for 1-line loops</code>
    <code class="k">return</code> <code class="nx">product</code><code class="p">;</code>        <code class="c1">// Return the factorial</code>
<code class="p">}</code>
<code class="nx">factorial2</code><code class="p">(</code><code class="mi">5</code><code class="p">)</code>              <code class="c1">// =&gt; 120: 1*2*3*4*5</code></pre>

<p>JavaScript<a data-type="indexterm" data-primary="" data-startref="SYcontrol01" id="idm46198573654088"/><a data-type="indexterm" data-primary="" data-startref="control01" id="idm46198573653240"/><a data-type="indexterm" data-primary="" data-startref="Scontrol01" id="idm46198573652296"/> supports an object-oriented programming style, but it is
significantly different than “classical” object-oriented programming
languages. <a data-type="xref" href="ch09.xhtml#classes">Chapter 9</a> covers object-oriented programming in
JavaScript in detail, with lots of examples. Here<a data-type="indexterm" data-primary="object-oriented programming" data-secondary="example of" id="idm46198573506104"/> is a very simple
example that demonstrates how to define a JavaScript class to
represent 2D geometric points.  Objects that are instances of this
class have a single method, named <code>distance()</code>, that computes the
distance of the point from the origin:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kr">class</code> <code class="nx">Point</code> <code class="p">{</code>              <code class="c1">// By convention, class names are capitalized.</code>
    <code class="nx">constructor</code><code class="p">(</code><code class="nx">x</code><code class="p">,</code> <code class="nx">y</code><code class="p">)</code> <code class="p">{</code>    <code class="c1">// Constructor function to initialize new instances.</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">x</code> <code class="o">=</code> <code class="nx">x</code><code class="p">;</code>        <code class="c1">// This keyword is the new object being initialized.</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">y</code> <code class="o">=</code> <code class="nx">y</code><code class="p">;</code>        <code class="c1">// Store function arguments as object properties.</code>
    <code class="p">}</code>                      <code class="c1">// No return is necessary in constructor functions.</code>

    <code class="nx">distance</code><code class="p">()</code> <code class="p">{</code>           <code class="c1">// Method to compute distance from origin to point.</code>
        <code class="k">return</code> <code class="nb">Math</code><code class="p">.</code><code class="nx">sqrt</code><code class="p">(</code>  <code class="c1">// Return the square root of x² + y².</code>
            <code class="k">this</code><code class="p">.</code><code class="nx">x</code> <code class="o">*</code> <code class="k">this</code><code class="p">.</code><code class="nx">x</code> <code class="o">+</code>  <code class="c1">// this refers to the Point object on which</code>
            <code class="k">this</code><code class="p">.</code><code class="nx">y</code> <code class="o">*</code> <code class="k">this</code><code class="p">.</code><code class="nx">y</code>    <code class="c1">// the distance method is invoked.</code>
        <code class="p">);</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="c1">// Use the Point() constructor function with "new" to create Point objects</code>
<code class="kd">let</code> <code class="nx">p</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">Point</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code> <code class="mi">1</code><code class="p">);</code>   <code class="c1">// The geometric point (1,1).</code>

<code class="c1">// Now use a method of the Point object p</code>
<code class="nx">p</code><code class="p">.</code><code class="nx">distance</code><code class="p">()</code>               <code class="c1">// =&gt; Math.SQRT2</code></pre>

<p>This<a data-type="indexterm" data-primary="" data-startref="JSintrosyntax01" id="idm46198573502168"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="chapter overviews" id="idm46198573501432"/> introductory tour of JavaScript’s fundamental syntax and
capabilities ends here, but the book continues with self-contained
chapters that cover additional features of the language:</p>
<dl>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch10.xhtml#modules">Chapter 10, <em>Modules</em></a></dt>
<dd>
<p>Shows how JavaScript code in one file or script can use JavaScript functions and classes defined in other files or scripts.</p>
</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch11.xhtml#builtintypes">Chapter 11, <em>The JavaScript Standard Library</em></a></dt>
<dd>
<p>Covers the built-in functions and classes that are
  available to all JavaScript programs. This includes important data
  stuctures like maps and sets, a regular expression class for textual
  pattern matching, functions for serializing JavaScript data
  structures, and much more.</p>
</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch12.xhtml#itergene">Chapter 12, <em>Iterators and Generators</em></a></dt>
<dd>
<p>Explains how the <code>for/of</code> loop works and how you can
  make your own classes iterable with <code>for/of</code>. It also covers
  generator functions and the <code>yield</code> statement.</p>
</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch13.xhtml#async">Chapter 13, <em>Asynchronous JavaScript</em></a></dt>
<dd>
<p>This chapter is an in-depth exploration of asynchronous programming in
  JavaScript, covering callbacks and events, Promise-based APIs, and
  the <code>async</code> and <code>await</code> keywords. Although the core JavaScript
  language is not asynchronous, asynchronous APIs are the default in
  both web browsers and Node, and this chapter explains the techniques
  for working with those APIs.</p>
</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch14.xhtml#metaprogramming">Chapter 14, <em>Metaprogramming</em></a></dt>
<dd>
<p>Introduces a number of advanced features of
  JavaScript that may be of interest to programmers writing
  libraries of code for other JavaScript programmers to use.</p>
</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch15.xhtml#clientside">Chapter 15, <em>JavaScript in Web Browsers</em></a></dt>
<dd>
<p>Introduces the web browser host environment, explains
  how web browsers execute JavaScript code, and covers the most
  important of the many APIs defined by web browsers. This is by far
  the longest chapter in the book.</p>
</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch16.xhtml#serverside">Chapter 16, <em>Server-Side JavaScript with Node</em></a></dt>
<dd>
<p>Introduces the Node host environment, covering the
  fundamental programming model and the data structures and APIs that
  are most important to understand.</p>
</dd>
<dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch17.xhtml#extensions">Chapter 17, <em>JavaScript Tools and Extensions</em></a></dt>
<dd>
<p>Covers tools and language extensions that are worth
  knowing about because they are widely used and may make you a more
  productive programmer.</p>
</dd>
</dl>
</div></section>













<section data-type="sect1" data-pdf-bookmark="1.4 Example: Character Frequency Histograms"><div class="sect1" id="idm46198582015288">
<h1>1.4 Example: Character Frequency Histograms</h1>

<p>This<a data-type="indexterm" data-primary="character frequency histograms" id="cfreq01"/><a data-type="indexterm" data-primary="histograms, character frequency" id="Hfreq01"/><a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="character frequency histograms" id="JSintrohisto01"/> chapter concludes with a short but nontrivial JavaScript
program. <a data-type="xref" href="#charfreq.js">Example 1-1</a> is a Node program that reads text from
standard input, computes a character frequency histogram from that
text, and then prints out the histogram. You could invoke the program
like this to analyze the character frequency of its own source code:</p>

<pre data-type="programlisting">$ node charfreq.js &lt; charfreq.js
T: ########### 11.22%
E: ########## 10.15%
R: ####### 6.68%
S: ###### 6.44%
A: ###### 6.16%
N: ###### 5.81%
O: ##### 5.45%
I: ##### 4.54%
H: #### 4.07%
C: ### 3.36%
L: ### 3.20%
U: ### 3.08%
/: ### 2.88%</pre>

<p>This example uses a number of advanced JavaScript features and is
intended to demonstrate what real-world JavaScript programs can look
like. You should not expect to understand all of the code yet, but be
assured that all of it will be explained in the chapters that follow.</p>
<div id="charfreq.js" data-type="example">
<h5><span class="label">Example 1-1. </span>Computing character frequency histograms with JavaScript</h5>

<pre data-type="programlisting" data-code-language="js"><code class="cm">/**</code>
<code class="cm"> * This Node program reads text from standard input, computes the frequency</code>
<code class="cm"> * of each letter in that text, and displays a histogram of the most</code>
<code class="cm"> * frequently used characters. It requires Node 12 or higher to run.</code>
<code class="cm"> *</code>
<code class="cm"> * In a Unix-type environment you can invoke the program like this:</code>
<code class="cm"> *    node charfreq.js &lt; corpus.txt</code>
<code class="cm"> */</code>

<code class="c1">// This class extends Map so that the get() method returns the specified</code>
<code class="c1">// value instead of null when the key is not in the map</code>
<code class="kr">class</code> <code class="nx">DefaultMap</code> <code class="kr">extends</code> <code class="nx">Map</code> <code class="p">{</code>
    <code class="nx">constructor</code><code class="p">(</code><code class="nx">defaultValue</code><code class="p">)</code> <code class="p">{</code>
        <code class="kr">super</code><code class="p">();</code>                          <code class="c1">// Invoke superclass constructor</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">defaultValue</code> <code class="o">=</code> <code class="nx">defaultValue</code><code class="p">;</code> <code class="c1">// Remember the default value</code>
    <code class="p">}</code>

    <code class="nx">get</code><code class="p">(</code><code class="nx">key</code><code class="p">)</code> <code class="p">{</code>
        <code class="k">if</code> <code class="p">(</code><code class="k">this</code><code class="p">.</code><code class="nx">has</code><code class="p">(</code><code class="nx">key</code><code class="p">))</code> <code class="p">{</code>              <code class="c1">// If the key is already in the map</code>
            <code class="k">return</code> <code class="kr">super</code><code class="p">.</code><code class="nx">get</code><code class="p">(</code><code class="nx">key</code><code class="p">);</code>        <code class="c1">// return its value from superclass.</code>
        <code class="p">}</code>
        <code class="k">else</code> <code class="p">{</code>
            <code class="k">return</code> <code class="k">this</code><code class="p">.</code><code class="nx">defaultValue</code><code class="p">;</code>     <code class="c1">// Otherwise return the default value</code>
        <code class="p">}</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="c1">// This class computes and displays letter frequency histograms</code>
<code class="kr">class</code> <code class="nx">Histogram</code> <code class="p">{</code>
    <code class="nx">constructor</code><code class="p">()</code> <code class="p">{</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">letterCounts</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">DefaultMap</code><code class="p">(</code><code class="mi">0</code><code class="p">);</code>  <code class="c1">// Map from letters to counts</code>
        <code class="k">this</code><code class="p">.</code><code class="nx">totalLetters</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>                  <code class="c1">// How many letters in all</code>
    <code class="p">}</code>

    <code class="c1">// This function updates the histogram with the letters of text.</code>
    <code class="nx">add</code><code class="p">(</code><code class="nx">text</code><code class="p">)</code> <code class="p">{</code>
        <code class="c1">// Remove whitespace from the text, and convert to upper case</code>
        <code class="nx">text</code> <code class="o">=</code> <code class="nx">text</code><code class="p">.</code><code class="nx">replace</code><code class="p">(</code><code class="sr">/\s/g</code><code class="p">,</code> <code class="s2">""</code><code class="p">).</code><code class="nx">toUpperCase</code><code class="p">();</code>

        <code class="c1">// Now loop through the characters of the text</code>
        <code class="k">for</code><code class="p">(</code><code class="kd">let</code> <code class="nx">character</code> <code class="k">of</code> <code class="nx">text</code><code class="p">)</code> <code class="p">{</code>
            <code class="kd">let</code> <code class="nx">count</code> <code class="o">=</code> <code class="k">this</code><code class="p">.</code><code class="nx">letterCounts</code><code class="p">.</code><code class="nx">get</code><code class="p">(</code><code class="nx">character</code><code class="p">);</code> <code class="c1">// Get old count</code>
            <code class="k">this</code><code class="p">.</code><code class="nx">letterCounts</code><code class="p">.</code><code class="nx">set</code><code class="p">(</code><code class="nx">character</code><code class="p">,</code> <code class="nx">count</code><code class="o">+</code><code class="mi">1</code><code class="p">);</code>    <code class="c1">// Increment it</code>
            <code class="k">this</code><code class="p">.</code><code class="nx">totalLetters</code><code class="o">++</code><code class="p">;</code>
        <code class="p">}</code>
    <code class="p">}</code>

    <code class="c1">// Convert the histogram to a string that displays an ASCII graphic</code>
    <code class="nx">toString</code><code class="p">()</code> <code class="p">{</code>
        <code class="c1">// Convert the Map to an array of [key,value] arrays</code>
        <code class="kd">let</code> <code class="nx">entries</code> <code class="o">=</code> <code class="p">[...</code><code class="k">this</code><code class="p">.</code><code class="nx">letterCounts</code><code class="p">];</code>

        <code class="c1">// Sort the array by count, then alphabetically</code>
        <code class="nx">entries</code><code class="p">.</code><code class="nx">sort</code><code class="p">((</code><code class="nx">a</code><code class="p">,</code><code class="nx">b</code><code class="p">)</code> <code class="o">=&gt;</code> <code class="p">{</code>              <code class="c1">// A function to define sort order.</code>
            <code class="k">if</code> <code class="p">(</code><code class="nx">a</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">===</code> <code class="nx">b</code><code class="p">[</code><code class="mi">1</code><code class="p">])</code> <code class="p">{</code>             <code class="c1">// If the counts are the same</code>
                <code class="k">return</code> <code class="nx">a</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">&lt;</code> <code class="nx">b</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">?</code> <code class="o">-</code><code class="mi">1</code> <code class="o">:</code> <code class="mi">1</code><code class="p">;</code> <code class="c1">// sort alphabetically.</code>
            <code class="p">}</code> <code class="k">else</code> <code class="p">{</code>                         <code class="c1">// If the counts differ</code>
                <code class="k">return</code> <code class="nx">b</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">-</code> <code class="nx">a</code><code class="p">[</code><code class="mi">1</code><code class="p">];</code>          <code class="c1">// sort by largest count.</code>
            <code class="p">}</code>
        <code class="p">});</code>

        <code class="c1">// Convert the counts to percentages</code>
        <code class="k">for</code><code class="p">(</code><code class="kd">let</code> <code class="nx">entry</code> <code class="k">of</code> <code class="nx">entries</code><code class="p">)</code> <code class="p">{</code>
            <code class="nx">entry</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">=</code> <code class="nx">entry</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">/</code> <code class="k">this</code><code class="p">.</code><code class="nx">totalLetters</code><code class="o">*</code><code class="mi">100</code><code class="p">;</code>
        <code class="p">}</code>

        <code class="c1">// Drop any entries less than 1%</code>
        <code class="nx">entries</code> <code class="o">=</code> <code class="nx">entries</code><code class="p">.</code><code class="nx">filter</code><code class="p">(</code><code class="nx">entry</code> <code class="o">=&gt;</code> <code class="nx">entry</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">&gt;=</code> <code class="mi">1</code><code class="p">);</code>

        <code class="c1">// Now convert each entry to a line of text</code>
        <code class="kd">let</code> <code class="nx">lines</code> <code class="o">=</code> <code class="nx">entries</code><code class="p">.</code><code class="nx">map</code><code class="p">(</code>
            <code class="p">([</code><code class="nx">l</code><code class="p">,</code><code class="nx">n</code><code class="p">])</code> <code class="o">=&gt;</code> <code class="sb">`</code><code class="si">${</code><code class="nx">l</code><code class="si">}</code><code class="sb">: </code><code class="si">${</code><code class="s2">"#"</code><code class="p">.</code><code class="nx">repeat</code><code class="p">(</code><code class="nb">Math</code><code class="p">.</code><code class="nx">round</code><code class="p">(</code><code class="nx">n</code><code class="p">))</code><code class="si">}</code><code class="sb"> </code><code class="si">${</code><code class="nx">n</code><code class="p">.</code><code class="nx">toFixed</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code><code class="si">}</code><code class="sb">%`</code>
        <code class="p">);</code>

        <code class="c1">// And return the concatenated lines, separated by newline characters.</code>
        <code class="k">return</code> <code class="nx">lines</code><code class="p">.</code><code class="nx">join</code><code class="p">(</code><code class="s2">"\n"</code><code class="p">);</code>
    <code class="p">}</code>
<code class="p">}</code>

<code class="c1">// This async (Promise-returning) function creates a Histogram object,</code>
<code class="c1">// asynchronously reads chunks of text from standard input, and adds those chunks to</code>
<code class="c1">// the histogram. When it reaches the end of the stream, it returns this histogram</code>
<code class="nx">async</code> <code class="kd">function</code> <code class="nx">histogramFromStdin</code><code class="p">()</code> <code class="p">{</code>
    <code class="nx">process</code><code class="p">.</code><code class="nx">stdin</code><code class="p">.</code><code class="nx">setEncoding</code><code class="p">(</code><code class="s2">"utf-8"</code><code class="p">);</code> <code class="c1">// Read Unicode strings, not bytes</code>
    <code class="kd">let</code> <code class="nx">histogram</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">Histogram</code><code class="p">();</code>
    <code class="k">for</code> <code class="nx">await</code> <code class="p">(</code><code class="kd">let</code> <code class="nx">chunk</code> <code class="k">of</code> <code class="nx">process</code><code class="p">.</code><code class="nx">stdin</code><code class="p">)</code> <code class="p">{</code>
        <code class="nx">histogram</code><code class="p">.</code><code class="nx">add</code><code class="p">(</code><code class="nx">chunk</code><code class="p">);</code>
    <code class="p">}</code>
    <code class="k">return</code> <code class="nx">histogram</code><code class="p">;</code>
<code class="p">}</code>

<code class="c1">// This one final line of code is the main body of the program.</code>
<code class="c1">// It makes a Histogram object from standard input, then prints the histogram.</code>
<code class="nx">histogramFromStdin</code><code class="p">().</code><code class="nx">then</code><code class="p">(</code><code class="nx">histogram</code> <code class="o">=&gt;</code> <code class="p">{</code> <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">histogram</code><code class="p">.</code><code class="nx">toString</code><code class="p">());</code> <code class="p">});</code></pre></div>
</div></section>













<section data-type="sect1" data-pdf-bookmark="1.5 Summary"><div class="sect1" id="idm46198573425112">
<h1>1.5 Summary</h1>

<p>This<a data-type="indexterm" data-primary="" data-startref="JSintrohisto01" id="idm46198573423976"/><a data-type="indexterm" data-primary="" data-startref="Hfreq01" id="idm46198573423000"/><a data-type="indexterm" data-primary="" data-startref="cfreq01" id="idm46198573422056"/> book explains JavaScript from the bottom up. This means that we
start with low-level details like comments, identifiers, variables, and
types; then build to expressions, statements, objects, and functions;
and then cover high-level language abstractions like classes and
modules. I take the word <em>definitive</em> in the title of this book
seriously, and the coming chapters explain the language at a level of
detail that may feel off-putting at first. True mastery of JavaScript
requires an understanding of the details, however, and I hope that you
will make time to read this book cover to cover. But please don’t feel
that you need to do that on your first reading. If you find yourself
feeling bogged down in a section, simply skip to the next. You can
come back and master the details once you have a working knowledge of
the language as a whole.</p>
</div></section>







</div></section></div>



  </body>
</html>